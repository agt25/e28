<!doctype html>
<html lang='en'>

    <head>
        <title>Stonks</title>
        <meta charset='utf-8'>
        <link href="data:," rel="icon">
        <link href='style.css' rel='stylesheet'>
        <!-- Font Awesome -->
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
            rel="stylesheet"/>
        <!-- Google Fonts -->
        <link
            href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
            rel="stylesheet"/>
        <!-- MDB -->
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.3.0/mdb.min.css"
            rel="stylesheet"/>
        <!-- Bootstrap -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
            crossorigin="anonymous">
        <script
            type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.3.0/mdb.min.js"></script>
        <script src='https://unpkg.com/vue@next' defer="defer"></script>
        <script src="https://unpkg.com/vue-currency-input"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.14.1/lodash.min.js"></script>
            
        <script src='script.js' defer="defer"></script>
       
    </head>

    <body>

        <div id='app' v-cloak="v-cloak">
            
            <!-- Render on first load; Ask user for their name -->
            <div v-if='!userName' class='welcome-container'>
                <div class='welcome-item'>
                    <h2>Welcome</h2>
                    <h3>Please
                        <span class="keyboard">
                            <span class="keyboard__row keyboard__row--h1">
                                <span class="key--bottom-right key--word key--w5" data-key="13">
                                    <span>enter</span>
                                </span>
                            </span>
                        </span>
                        your name....</h3>
                    <input v-model.lazy.trim='userName'/>
                    
                </div>
            </div>

            <!-- If user has inputted their name, render the game -->
            <div v-if='userName' class='game'>
                <!-- Header / Logo -->
                <header class='flex-jumbo'>
                    <div class='flex-items'></div>
                    
                    </header>

                    <!-- <div class="flex-jumbo">
                        <div class="flex-items">
                            <h1>Stonks
                                <span id="logo">2009</span></h1>
                        </div>
                    </div>
                </header> -->
                <!-- How to Play Instructions -->
               
                

                <!-- Main Component of the Game -->
                <div class="container-fluid" id='stock-choices'>

                    <div class='top-stats-wrap'>

                        <!-- Show basic stats like current player and current round -->
                        <div v-bind:value='userName' class='top-stats-item'>
                            Playing:
                            {{ userName }}
                        </div>
                        <div v-bind:value='gameRound' class='top-stats-item'>
                            Round #
                            {{ gameRound }}
                        </div>
                        <div class='top-stats-item'>
                            <button v-on:click='resetGame' id='reset'>Reset</button>
                        </div>
                      

                    </div>
                    <!-- <div v-for='num in imageNumbers'>
                        <img v-bind:src="'/images/' + num + '.jpg'">

                     -->

                    <!-- Mystery stock options to choose from -->
                    <div class="row justify-content-md-center">
                      
                        
                        
                        <div v-for="stock in stocks" v-bind:key="stock" class="col-6 col-lg-3 col-md-4">
                            
                    
                                <img id='case' src='/images/case.png'>
                                <button
    
                                    id="stock"
                                    v-bind:value="stock.name"
                                    v-bind:key='stock.name'
                                    v-on:click="stockReturn(stock), roundResult(stock), selectedStock = stock.name">
        
                                    {{stock.name}}
                                </button>
                                    
                            </div>
                            
                                  
                        </div>
                        

                        <!-- If user has selected a stock, show basic stats -->
                        <div v-if='selectedStock != ""'>
                            <span class='shadow-3'>Invested in
                                {{ selectedStock }}</span>
                            <br>
                            <span>
                                Networth:
                                {{ formatPrice(todayWorth) }}</span>
                            <br>
                            <span v-bind:class="{ won: won, lost: !won}">{{ displayMessage }}</span>
                            <br>
                        </div>
                        <!-- Else, show game directions -->
                        <div v-else>
                            It's 2009.
                            <br>
                            Select a mystery stock to invest in.
                            <div>Will you be a present day winner or loser?</div>
                        </div>
                    </div>
                     <button id='limit' v-on:click='limitDisplay'>Limit</button>
                     {{ selectedStock }}

                    <!-- User Score Card -->
                    <div class='stats-flex'>
                        <span v-bind:value='userName' class='stats-item'>
                            {{ userName }}
                            <div v-bind:value='userPlays' class='stats-counts'>
                                <div class='count-item win'>Won:
                                    {{ userPlays.wins }}
                                </div>
                                <div class='count-item loss'>
                                    Lost:
                                    {{ userPlays.losses }}
                                </div>
                            </div>
                        </span>

                        <!-- Computer Score Card -->
                        <span class='stats-item'>
                            Computer
                            <div v-bind:value='computerPlays' class='stats-counts'>
                                <div class='count-item win'>
                                    Won:
                                    {{ computerPlays.wins }}
                                </div>
                                <div class='count-item loss'>
                                    Lost:
                                    {{ computerPlays.losses }}
                                </div>
                            </div>
                        </span>
                    </div>
                    
                    <button v-on:click="show = !show">
                        Game Log
                    </button>
                     

                    <div v-if='show'>
                        <div v-for='round in rounds'>
                            <br>
                            <div v-if="round.winner == 'Computer'">
                                Round:
                                {{ round.round }}
                                <div>
                                    Winner:
                                    {{ round.winner }}!
                                    <div>Silly
                                        {{ userName }}
                                        invested in
                                        {{ round.stock }}
                                    </div>
                                </div>
                            </div>
                            <div v-else-if="round.winner != 'Computer'">
                                Round
                                {{ round.round }}
                                <br>
                                <div>
                                    Winner:
                                    {{ round.winner }}!
                                    <br>
                                    <div>
                                        {{ userName }}
                                        invested in
                                        {{ round.stock }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- History / Game Log -->

                </div>

            </div>
        </div>

    </div>

</body>
</html>